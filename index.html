<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Overlay tipo Snapchat</title>
<style>
  body {
    margin: 0;
    background: #111;
    font-family: Arial, sans-serif;
    display: grid;
    place-items: center;
    min-height: 100vh;
  }
  .stage {
    position: relative;
    display: inline-block;
    border: 2px solid #333;
    overflow: hidden;
    max-width: 400px; /* simula formato vertical estilo Snapchat */
  }
  .stage img, .stage video {
    display: block;
    width: 100%;
    height: auto;
  }
  .overlay {
    position: absolute;
    left: 0;
    width: 100%;
    height: 90px; /* alto estÃ¡ndar tipo Snapchat */
    background: rgba(0,0,0,0.45);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: 600;
    text-align: center;
    cursor: ns-resize; /* solo arriba/abajo */
    user-select: none;
  }
  .overlay[contenteditable="true"] {
    outline: none;
    cursor: text;
  }
</style>
</head>
<body>

<div class="stage">
  <img src="https://picsum.photos/400/700" alt="demo">
  <div id="overlay" class="overlay" contenteditable="true">
    Texto estilo Snapchat ðŸ˜Ž
  </div>
</div>

<script>
const overlay = document.getElementById('overlay');
const stage = overlay.parentElement;

let dragging = false, startY = 0, origTop = 0;

overlay.addEventListener('mousedown', (e) => {
  if (e.detail === 2) return; // doble click = editar texto
  dragging = true;
  startY = e.clientY;
  origTop = overlay.offsetTop;
  e.preventDefault();
});
window.addEventListener('mousemove', (e) => {
  if (!dragging) return;
  let dy = e.clientY - startY;
  let newTop = origTop + dy;
  // lÃ­mites: no salir de la imagen
  newTop = Math.max(0, Math.min(newTop, stage.clientHeight - overlay.clientHeight));
  overlay.style.top = newTop + 'px';
});
window.addEventListener('mouseup', () => dragging = false);

// posiciÃ³n inicial (centro vertical)
overlay.style.top = (stage.clientHeight/2 - overlay.clientHeight/2) + 'px';
</script>

</body>
</html>

